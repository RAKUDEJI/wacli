// Generated by `wit-bindgen` 0.51.0. DO NOT EDIT!

pub fn wasmExportMeta() -> Int {

      let (result) : (@types.CommandMeta) = @command.meta();

      let ptr = mbt_ffi_str2ptr((result).name)
      mbt_ffi_store32((return_area) + 4, (result).name.length())
      mbt_ffi_store32((return_area) + 0, ptr)

      let ptr0 = mbt_ffi_str2ptr((result).summary)
      mbt_ffi_store32((return_area) + 12, (result).summary.length())
      mbt_ffi_store32((return_area) + 8, ptr0)

      let ptr1 = mbt_ffi_str2ptr((result).usage)
      mbt_ffi_store32((return_area) + 20, (result).usage.length())
      mbt_ffi_store32((return_area) + 16, ptr1)

      let address = mbt_ffi_malloc(((result).aliases).length() * 8);
      for index = 0; index < ((result).aliases).length(); index = index + 1 {
            let iter_elem : String = ((result).aliases)[(index)]
            let iter_base = address + (index * 8);

            let ptr2 = mbt_ffi_str2ptr(iter_elem)
            mbt_ffi_store32((iter_base) + 4, iter_elem.length())
            mbt_ffi_store32((iter_base) + 0, ptr2)

      }
      mbt_ffi_store32((return_area) + 28, ((result).aliases).length())
      mbt_ffi_store32((return_area) + 24, address)

      let ptr3 = mbt_ffi_str2ptr((result).version)
      mbt_ffi_store32((return_area) + 36, (result).version.length())
      mbt_ffi_store32((return_area) + 32, ptr3)
      mbt_ffi_store8((return_area) + 40, (if (result).hidden { 1 } else { 0 }))

      let ptr4 = mbt_ffi_str2ptr((result).description)
      mbt_ffi_store32((return_area) + 48, (result).description.length())
      mbt_ffi_store32((return_area) + 44, ptr4)

      let address6 = mbt_ffi_malloc(((result).examples).length() * 8);
      for index7 = 0; index7 < ((result).examples).length(); index7 = index7 + 1 {
            let iter_elem : String = ((result).examples)[(index7)]
            let iter_base = address6 + (index7 * 8);

            let ptr5 = mbt_ffi_str2ptr(iter_elem)
            mbt_ffi_store32((iter_base) + 4, iter_elem.length())
            mbt_ffi_store32((iter_base) + 0, ptr5)

      }
      mbt_ffi_store32((return_area) + 56, ((result).examples).length())
      mbt_ffi_store32((return_area) + 52, address6)
      return return_area

}

pub fn wasmExportMetaPostReturn(p0 : Int) -> Unit {
      mbt_ffi_free(mbt_ffi_load32((p0) + 0))
      mbt_ffi_free(mbt_ffi_load32((p0) + 8))
      mbt_ffi_free(mbt_ffi_load32((p0) + 16))

      for index = 0; index < (mbt_ffi_load32((p0) + 28)); index = index + 1 {
            let iter_base = (mbt_ffi_load32((p0) + 24)) + (index * 8)
            mbt_ffi_free(mbt_ffi_load32((iter_base) + 0))

      }
      mbt_ffi_free(mbt_ffi_load32((p0) + 24))
      mbt_ffi_free(mbt_ffi_load32((p0) + 32))
      mbt_ffi_free(mbt_ffi_load32((p0) + 44))

      for index0 = 0; index0 < (mbt_ffi_load32((p0) + 56)); index0 = index0 + 1 {
            let iter_base = (mbt_ffi_load32((p0) + 52)) + (index0 * 8)
            mbt_ffi_free(mbt_ffi_load32((iter_base) + 0))

      }
      mbt_ffi_free(mbt_ffi_load32((p0) + 52))

}

pub fn wasmExportRun(p0 : Int, p1 : Int) -> Int {

      let array : Array[String] = [];
      for index = 0; index < (p1); index = index + 1 {
            let iter_base = (p0) + (index * 8)

            let result = mbt_ffi_ptr2str(mbt_ffi_load32((iter_base) + 0), mbt_ffi_load32((iter_base) + 4))

            array.push(result)
      }
      mbt_ffi_free(p0)

      let (result0) : (Result[UInt, @types.CommandError]) = @command.run(array);

      match result0 {
            Ok(payload) => {
                  mbt_ffi_store8((return_area) + 0, (0))
                  mbt_ffi_store32((return_area) + 4, (payload).reinterpret_as_int())

                  ()
            }
            Err(payload1) => {
                  mbt_ffi_store8((return_area) + 0, (1))

                  match payload1 {
                        UnknownCommand(payload2) => {
                              mbt_ffi_store8((return_area) + 4, (0))

                              let ptr = mbt_ffi_str2ptr(payload2)
                              mbt_ffi_store32((return_area) + 12, payload2.length())
                              mbt_ffi_store32((return_area) + 8, ptr)

                              ()
                        }
                        InvalidArgs(payload3) => {
                              mbt_ffi_store8((return_area) + 4, (1))

                              let ptr4 = mbt_ffi_str2ptr(payload3)
                              mbt_ffi_store32((return_area) + 12, payload3.length())
                              mbt_ffi_store32((return_area) + 8, ptr4)

                              ()
                        }
                        Failed(payload5) => {
                              mbt_ffi_store8((return_area) + 4, (2))

                              let ptr6 = mbt_ffi_str2ptr(payload5)
                              mbt_ffi_store32((return_area) + 12, payload5.length())
                              mbt_ffi_store32((return_area) + 8, ptr6)

                              ()
                        }
                        Io(payload7) => {
                              mbt_ffi_store8((return_area) + 4, (3))

                              let ptr8 = mbt_ffi_str2ptr(payload7)
                              mbt_ffi_store32((return_area) + 12, payload7.length())
                              mbt_ffi_store32((return_area) + 8, ptr8)

                              ()
                        }
                  }

                  ()
            }
      }
      return return_area

}

pub fn wasmExportRunPostReturn(p0 : Int) -> Unit {

      match (mbt_ffi_load8_u((p0) + 0)) {
            0 => ()
            1 => {

                  match (mbt_ffi_load8_u((p0) + 4)) {
                        0 => {
                              mbt_ffi_free(mbt_ffi_load32((p0) + 8))

                        }
                        1 => {
                              mbt_ffi_free(mbt_ffi_load32((p0) + 8))

                        }
                        2 => {
                              mbt_ffi_free(mbt_ffi_load32((p0) + 8))

                        }
                        3 => {
                              mbt_ffi_free(mbt_ffi_load32((p0) + 8))

                        }
                        _ => panic()
                  }

            }
            _ => panic()
      }

}

