// Generated by `wit-bindgen` 0.51.0.

///|
pub fn args() -> Array[String] {
  @wasi_env.get_arguments()
}

///|
pub fn env() -> Array[(String, String)] {
  @wasi_env.get_environment()
}

///|
pub fn stdout_write(bytes : FixedArray[Byte]) -> Unit {
  let out = @wasi_stdout.get_stdout()
  let _ = out.blocking_write_and_flush(bytes)
  out.drop()
}

///|
pub fn stderr_write(bytes : FixedArray[Byte]) -> Unit {
  let err = @wasi_stderr.get_stderr()
  let _ = err.blocking_write_and_flush(bytes)
  err.drop()
}

///|
pub fn stdout_flush() -> Unit {
  let out = @wasi_stdout.get_stdout()
  let _ = out.blocking_flush()
  out.drop()
}

///|
pub fn stderr_flush() -> Unit {
  let err = @wasi_stderr.get_stderr()
  let _ = err.blocking_flush()
  err.drop()
}

///|
pub fn stdin_read(max_bytes : UInt) -> FixedArray[Byte] {
  let input = @wasi_stdin.get_stdin()
  let result = input.blocking_read(max_bytes.to_uint64())
  input.drop()
  match result {
    Ok(bytes) => bytes
    Err(_) => FixedArray::make(0, b'\x00')
  }
}

///|
pub fn is_tty_stdout() -> Bool {
  match @wasi_terminal_stdout.get_terminal_stdout() {
    Some(term) => {
      term.drop()
      true
    }
    None => false
  }
}

///|
pub fn is_tty_stderr() -> Bool {
  match @wasi_terminal_stderr.get_terminal_stderr() {
    Some(term) => {
      term.drop()
      true
    }
    None => false
  }
}

///|
pub fn terminal_size() -> (UInt, UInt)? {
  None
}

///|
pub fn random_bytes(n : UInt) -> FixedArray[Byte] {
  @wasi_random.get_random_bytes(n.to_uint64())
}

///|
pub fn insecure_random_bytes(n : UInt) -> FixedArray[Byte] {
  @wasi_insecure.get_insecure_random_bytes(n.to_uint64())
}

///|
pub fn exit(code : UInt) -> Unit {
  if code == 0 {
    @wasi_exit.exit(Ok(()))
  } else {
    @wasi_exit.exit(Err(()))
  }
}

